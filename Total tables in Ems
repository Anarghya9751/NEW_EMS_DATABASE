CREATE TABLE `user` (
  `user_id` int NOT NULL AUTO_INCREMENT,
  `first_name` varchar(100) NOT NULL,
  `last_name` varchar(100) NOT NULL,
  `roll_no` varchar(100) DEFAULT NULL,
  `Email` varchar(100) DEFAULT NULL,
  `department` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  PRIMARY KEY (`user_id`),
  UNIQUE KEY `roll_no` (`roll_no`),
  UNIQUE KEY `Email` (`Email`),
  KEY `department` (`department`)
);

CREATE TABLE `organization` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `Name` varchar(250) NOT NULL,
  `Location` varchar(100) DEFAULT NULL,
  `Region` varchar(100) DEFAULT NULL,
  `Address` varchar(300) DEFAULT NULL,
  `Pincode` int DEFAULT NULL,
  `State` varchar(100) DEFAULT NULL,
  `District` varchar(200) DEFAULT NULL,
  `City` varchar(100) DEFAULT NULL,
  `PhoneNumber` varchar(15) DEFAULT NULL,
  `EmailId` varchar(100) DEFAULT NULL,
  `url` varchar(200) NOT NULL,
  `status` varchar(45) NOT NULL,
  PRIMARY KEY (`Id`)
);

CREATE TABLE `branch` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `Name` varchar(225) DEFAULT NULL,
  `Location` varchar(45) DEFAULT NULL,
  `Region` varchar(45) DEFAULT NULL,
  `Address` varchar(45) DEFAULT NULL,
  `PinCode` int DEFAULT NULL,
  `State` varchar(45) DEFAULT NULL,
  `City` varchar(45) DEFAULT NULL,
  `OrganizationId` int NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `org_id_idx` (`OrganizationId`),
  CONSTRAINT `fk_branch_organization` FOREIGN KEY (`OrganizationId`) REFERENCES `organization` (`Id`)
);

CREATE TABLE `department` (
  `Department_id` varchar(100) NOT NULL,
  `Department_name` varchar(200) NOT NULL,
  `parent_branch` int NOT NULL,
  `parent_org` int NOT NULL,
  `pincode` int NOT NULL,
  `State` varchar(100) NOT NULL,
  PRIMARY KEY (`Department_id`),
  KEY `parent_branch` (`parent_branch`),
  KEY `parent_org` (`parent_org`),
  CONSTRAINT `fk_department_branch` FOREIGN KEY (`parent_branch`) REFERENCES `branch` (`Id`),
  CONSTRAINT `fk_department_organization` FOREIGN KEY (`parent_org`) REFERENCES `organization` (`Id`)
);

CREATE TABLE `designation` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `Name` varchar(45) DEFAULT NULL,
  `Parent_department` varchar(100) DEFAULT NULL,
  `Parent_branch` int DEFAULT NULL,
  `Parent_org` int DEFAULT NULL,
  PRIMARY KEY (`ID`),
  CONSTRAINT `fk_designation_department` FOREIGN KEY (`Parent_department`) REFERENCES `department` (`Department_id`),
  CONSTRAINT `fk_designation_branch` FOREIGN KEY (`Parent_branch`) REFERENCES `branch` (`Id`),
  CONSTRAINT `fk_designation_organization` FOREIGN KEY (`Parent_org`) REFERENCES `organization` (`Id`)
);
